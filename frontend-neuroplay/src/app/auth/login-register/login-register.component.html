<div
  class="min-h-screen p-0 bg-cover bg-center"
  style="background-image: url('')"
>
  <div class="main flex justify-center items-center flex-col min-h-screen">
    <div
      class="contenedor relative bg-white rounded-3xl shadow-xl p-6 overflow-hidden w-full max-w-4xl h-[600px]"
      id="contenedor"
    >
      <!-- Register Form -->
      <div class="form-contenedor crear-cuenta absolute" id="registerForm">
        <form
          id="registerForm"
          [formGroup]="registerForm"
          class="flex flex-col justify-center items-center p-8 h-full"
        >
          <h1 class="text-2xl font-bold mb-6">Crea una Cuenta</h1>

          <!-- Nombre -->
          <input
            formControlName="nombre"
            type="text"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Nombre"
            id="inputNombre"
          />
          <div
            *ngIf="nombre?.invalid && (nombre?.dirty || nombre?.touched)"
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="nombre?.errors?.['required']">
              Su Nombre es requerido!
            </div>
            <div *ngIf="nombre?.errors?.['pattern']">
              El Nombre solo debe contener letras!
            </div>
          </div>

          <!-- Apellido -->
          <input
            formControlName="apellido"
            type="text"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Apellidos"
            id="inputApellido"
          />
          <div
            *ngIf="apellido?.invalid && (apellido?.dirty || apellido?.touched)"
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="apellido?.errors?.['required']">
              Su Apellido es requerido!
            </div>
            <div *ngIf="apellido?.errors?.['pattern']">
              El Apellido solo debe contener letras!
            </div>
          </div>

          <!-- Email -->
          <input
            formControlName="username"
            type="email"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Correo Electrónico"
            id="inputEmail"
          />
          <div
            *ngIf="username?.invalid && (username?.dirty || username?.touched)"
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="username?.errors?.['required']">
              El Email es requerido!
            </div>
            <div *ngIf="username?.errors?.['email']">
              Ingrese un Email válido!
            </div>
            <div *ngIf="username?.errors?.['emailExists']">
              Este Email ya está registrado!
            </div>
          </div>

          <!-- Teléfono -->
          <input
            formControlName="telefono"
            type="text"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            placeholder="Teléfono"
            id="inputTelefono"
          />
          <div
            *ngIf="telefono?.invalid && (telefono?.dirty || telefono?.touched)"
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="telefono?.errors?.['required']">
              Su Teléfono es requerido!
            </div>
            <div *ngIf="telefono?.errors?.['pattern']">
              El Teléfono debe contener solo números y empezar con 9!
            </div>
            <div *ngIf="telefono?.errors?.['phoneExists']">
              Este Teléfono ya está registrado!
            </div>
          </div>

          <!-- Fecha de Nacimiento -->
          <input
            formControlName="fechaNacimiento"
            type="date"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            id="inputfechaNacimiento"
          />
          <div
            *ngIf="
              fechaNacimiento?.invalid &&
              (fechaNacimiento?.dirty || fechaNacimiento?.touched)
            "
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="fechaNacimiento?.errors?.['required']">
              Su Fecha de Nacimiento es requerida!
            </div>
          </div>

          <!-- Género -->
          <select
            name="genero"
            id="inputGenero"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            formControlName="genero"
          >
            <option value="" disabled selected>Selecciona un género</option>
            <option value="MASCULINO">Masculino</option>
            <option value="FEMENINO">Femenino</option>
            <option value="OTRO">Otro</option>
          </select>
          <div
            *ngIf="genero?.invalid && (genero?.dirty || genero?.touched)"
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="genero?.errors?.['required']">
              Su Género es requerido!
            </div>
          </div>

          <!-- Password -->
          <div class="relative w-full mb-2">
            <input
              formControlName="password"
              [type]="showPassword ? 'text' : 'password'"
              class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"
              placeholder="Contraseña"
              id="exampleInputPassword1"
            />
            <button
              type="button"
              (click)="togglePasswordVisibility()"
              class="absolute right-2 top-2.5 text-gray-500 hover:text-gray-700"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                />
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                />
              </svg>
            </button>
          </div>
          <div
            *ngIf="password?.invalid && (password?.dirty || password?.touched)"
            class="text-red-500 text-sm w-full mb-4"
          >
            <div *ngIf="password?.errors?.['required']">
              La Contraseña es requerida!
            </div>
            <div *ngIf="password?.errors?.['minlength']">
              La Contraseña debe tener al menos 8 caracteres!
            </div>
            <div *ngIf="password?.errors?.['pattern']">
              La Contraseña debe tener al menos 1 letra mayúscula y 1 carácter
              especial!
            </div>
          </div>

          <div
            *ngIf="loginForm?.errors?.['invalidLogin']"
            class="text-red-500 text-sm w-full mb-4"
          >
            Las credenciales proporcionadas son incorrectas.
          </div>

          <button
            type="submit"
            (click)="register()"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200"
          >
            Registrar
          </button>
        </form>
      </div>

      <!-- Login Form -->
      <div class="form-contenedor iniciar-sesion absolute">
        <form
          id="loginForm"
          [formGroup]="loginForm"
          class="flex flex-col justify-center items-center p-8 h-full"
        >
          <h1 class="text-2xl font-bold mb-6">Inicia Sesión</h1>

          <!-- Email Field -->
          <input
            formControlName="usernamelogin"
            type="email"
            class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
            id="inputEmailLogin"
            placeholder="Ingresa tu correo"
          />
          <div
            *ngIf="
              usernamelogin?.invalid &&
              (usernamelogin?.dirty || usernamelogin?.touched)
            "
            class="text-red-500 text-sm w-full mb-2"
          >
            <div *ngIf="usernamelogin?.errors?.['required']">
              El Email es requerido!
            </div>
            <div *ngIf="usernamelogin?.errors?.['email']">
              Ingrese un Email válido!
            </div>
          </div>

          <!-- Password Field -->
          <div class="relative w-full mb-2">
            <input
              formControlName="passwordlogin"
              [type]="showPasswordLogin ? 'text' : 'password'"
              class="w-full px-4 py-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10"
              id="inputPasswordLogin"
              placeholder="Ingresa tu contraseña"
            />
            <button
              type="button"
              (click)="togglePasswordLoginVisibility()"
              class="absolute right-2 top-2.5 text-gray-500 hover:text-gray-700"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-5 w-5"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                />
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                />
              </svg>
            </button>
          </div>
          <div
            *ngIf="
              passwordlogin?.invalid &&
              (passwordlogin?.dirty || passwordlogin?.touched)
            "
            class="text-red-500 text-sm w-full mb-4"
          >
            <div *ngIf="passwordlogin?.errors?.['required']">
              La Contraseña es requerida!
            </div>
            <div *ngIf="passwordlogin?.errors?.['minlength']">
              La Contraseña debe tener al menos 8 caracteres!
            </div>
            <div *ngIf="passwordlogin?.errors?.['pattern']">
              La Contraseña debe tener al menos 1 letra mayúscula y 1 carácter
              especial!
            </div>
          </div>

          <a
            [routerLink]="'/forgot-password'"
            class="text-blue-600 hover:text-blue-800 mb-4"
            >¿Olvidaste tu contraseña?</a
          >

          <button
            type="submit"
            (click)="login()"
            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200"
          >
            Iniciar Sesión
          </button>
        </form>
      </div>

      <!-- Toggle Panel -->
      <div class="cambiar-contenedor absolute overflow-hidden">
        <div class="relative cambiar">
          <!-- Left Panel (Register) -->
          <div
            class="cambiar-panel cambiar-izquierda absolute flex flex-col justify-center items-center text-center bg-gradient-to-br from-blue-800 to-blue-400 text-white"
          >
            <h1 class="text-2xl font-bold mb-4">Neuroplay</h1>
            <p class="mb-6">¿Ya tienes una cuenta? Inicia sesión aquí</p>
            <button
              id="login"
              class="bg-transparent border-2 border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-blue-600 transition duration-200 font-medium"
            >
              Iniciar Sesión
            </button>
          </div>

          <!-- Right Panel (Login) -->
          <div
            class="cambiar-panel cambiar-derecha absolute flex flex-col justify-center items-center text-center bg-gradient-to-br from-blue-400 to-blue-800 text-white"
          >
            <h1 class="text-2xl font-bold mb-4">Neuroplay</h1>
            <p class="mb-6">¿No tienes una cuenta? Regístrate aquí</p>
            <button
              id="register"
              class="bg-transparent border-2 border-white text-white px-4 py-2 rounded-lg hover:bg-white hover:text-blue-600 transition duration-200 font-medium"
            >
              Registrar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
